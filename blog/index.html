<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="icon" href="/img/logo/favicon.ico">
        <title>創世記</title>
        <style>
            body {
                margin: 0 auto;
                font-family: sans-serif; /* Added a common font for better readability */
            }
            
            nav {
                width: 100%;
                height: 70px;
                background-color: dimgray;
                padding-top: 5px;
                box-sizing: border-box;
            }
            
            nav ul {
                display: flex;
                margin: 0; /* Removed default ul margin */
                padding: 0; /* Removed default ul padding */
                align-items: center; /* Vertically align items in the nav */
                height: 100%; /* Make ul take full height of nav */
            }
            
            nav li {
                list-style: none;
                color: white;
                font-size: 1.2em; /* Made nav title slightly larger */
                margin-left: 20px; /* Added some left margin for the title */
            }
            
            a {
                display: block;
                text-decoration: none;
                color: white;
                margin-right: 35px;
            }
            
            main {
                background-color: #fefefe;
                padding: 20px; /* Added padding to main content */
                max-width: 800px; /* Constrained main content width for better readability */
                margin: 0 auto; /* Centered main content */
                line-height: 1.6; /* Improved line spacing for paragraphs */
            }

            h1 {
                color: #333;
            }

            p {
                color: #555;
            }

            footer {
                padding: 20px;
                text-align: center;
                background-color: #f0f0f0;
                border-top: 1px solid #ddd;
            }

            input[type="text"] {
                padding: 8px;
                border: 1px solid #ccc;
                border-radius: 4px;
                margin-right: 10px;
            }

            button {
                padding: 8px 15px;
                background-color: dimgray;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
            }

            button:hover {
                background-color: #555;
            }

            #result {
                margin-top: 15px;
                font-weight: bold;
                color: #333;
            }
            
        </style>
        <script src="/js/utils/utils.js"></script>
        <script>
            // This function would typically be in utils.js as per the src attribute
            // For this example, I'm including a placeholder for sha256.
            // In a real scenario, you'd ensure utils.js contains a working sha256 implementation.
            async function sha256(message) {
                // Encode the message as a Uint8Array
                const msgBuffer = new TextEncoder().encode(message);

                // Hash the message
                const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);

                // Convert ArrayBuffer to Array
                const hashArray = Array.from(new Uint8Array(hashBuffer));

                // Convert bytes to hex string
                const hexHash = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                return hexHash;
            }

            function checkAnswer(){
                sha256(document.getElementById('user_answer').value).then((hash) => {
                    if(hash === 'b4003030a618a54e83c92ac29756ea2ff0cedb7b06c0cdd5433e9eb0688194a9') {
                        document.getElementById('result').textContent = '正解';
                        // Setting a cookie named 'yuki' with value 'True'
                        // and making it available across the site for 7 days.
                        document.cookie = 'yuki=True; path=/; max-age=604800'; 
                        // Redirecting to the root of the site after successful answer.
                        location.replace('/'); 
                    } else {
                        document.getElementById('result').textContent = '不正解'
                    }
                });
            }
        </script>
    </head>
    <body>
            
        <header>
            <nav>
                <ul>
                    <li>旧約聖書 創世記</li>
                </ul>
            </nav>
        </header>
            
        <main>
            <h1>創世記 - 旧約聖書より</h1>
            <p>はじめに神は天と地とを創造された。</p>
            <p>地は形なく、虚しく、闇が淵のおもてにあり、神の霊が水の<ruby>面<rp>(</rp><rt>おもて</rt><rp>)</rp></ruby>を覆っていた。</p>
            <p>神は「光あれ」と言われた。すると光があった。</p>
            <p>神はその光を見て、良しとされた。神はその光と闇とを分けられた。</p>
            <p>神は光を昼と名づけ、闇を夜と名づけられた。夕となり、また朝となった。</p>
            <br><br>
        </main>

        <footer>
            <input id="user_answer" type="text" placeholder="創世記はどこに載っていますか？" style="width: 155px;">
            <button onclick="checkAnswer()">確かめる</button>
            <p id="result"></p>
        </footer>
    </body>
</html>
